<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        // task1 Kill K-th Bit 
        function solution(n, k) {
             return n & ~(1 << (k - 1));
        }
        solution(37,3) // output:33


        const killKthBit = (n, k) =>
            parseInt([...n.toString(2)].map((element, index, array) =>
                    index == array.length - k ? element = 0 : element)
                .join(''), 2)


        killKthBit(37, 3) // output: 33

        // task2 productExceptSelf

        var productExceptSelf = function (nums) {
            let output = new Array(nums.length).fill(nums[0]);
            let cacheVar = nums[nums.length - 1];
            for (let i = 1; i < nums.length; i++) {
                output[i] = output[i - 1] * nums[i];
            }

            output[nums.length - 1] = output[output.length - 2];
            for (let j = nums.length - 2; j > 0; j--) {
                output[j] = output[j - 1] * cacheVar;
                cacheVar = cacheVar * nums[j];
            }
            output[0] = cacheVar;
            console.log(output);
        };
        productExceptSelf([1, 2, 3, 4]) // output [24,12,8,6]

        // task3 find Pivot element's index

        var pivotIndex = function (nums) {
            let totalSum = 0;
            let leftSum = 0;
            nums.forEach(e => totalSum+=e);
            for (let i = 0; i < nums.length; i++) {
                if (totalSum - leftSum - nums[i] === leftSum) {
                    console.log(i);  //the index of pivot
                }        
                leftSum += nums[i]
            }
            return -1;
        };
        // debugger
        pivotIndex([1,7,3,6,5,6]) //output: 3
    </script>
</body>

</html>